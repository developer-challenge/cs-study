# 7장 전송계층 및 포트

## 4계층 프로토콜

### 4계층에서 하는 일

- 전송 계층(Transport layer) : 송신자의 프로세스와 수신자의 프로세스를 연결하는 통신 서비스를 제공
- 전송 계층은 연결 지향 데이터 스트림 지원, 신뢰성, 흐름 제어, 다중화 같은 편리한 서비스를 제공
- 전솔 프로토콜 : 연결 지향 전송 방식을 사용하는 전송 제어 프로토콜(TCP), 보다 단순한 전송에 사용되는 사용자 데이터 프로그램 프로토콜(UDP)

### 4계층 프로토콜의 중류

- TCP 프로토콜 : 연결 지향형(연결이 된 후 데이터를 전송)
- UDP 프로토콜 : 비연결 지향형 프로토콜(연결을 하든 말든 데이터를 던짐)

## 포트 번호

### 포트 번호의 특징

- 특정 프로세스와 특정 프로세스가 통신을 하기 위해 사용
- 하나의 포트는 하나의 프로세스만 사용 가능
  - 하나의 프로세스가 여러 개의 포트를 사용하는 것은 가능
- 포트 번호는 일반적으로 정해져 있지만 무조건 지켜야 하는 것은 아님

### Well-Known Port(System Port)

- 잘 알려진 주요 서비스를 제공하는 포트

| 서비스 이름 | 포트 번호 |
| ----------- | --------- |
| FTP         | 20, 21    |
| SSH         | 22        |
| TELNET      | 23        |
| DNS         | 53        |
| DHCP        | 67, 68    |
| TFTP        | 69        |
| HTTP        | 80        |
| HTTPS       | 443       |

### Registered Port(User Port)

- 어느정도 주요한 서비스들이 등록되어 있는 포트

| 서비스 이름      | 포트 번호 |
| ---------------- | --------- |
| 오라클 DB 서버   | 1521      |
| MySQL 서버       | 3306      |
| MS 원격 데스트탑 | 3389      |

### Dynamic Port(Private Port)

- 사용자들이 사용하는 포트

| 시작 포트 번호 | 마지막 포트 번호 |
| -------------- | ---------------- |
| 49152          | 65535            |

## 프로그램의 연결 정보

- 활성 연결 테이블 : 현재 포트 활성 여부를 나타내는 테이블
- MAC(맥)에서 현재 열린 포트 목록을 확인할 수 있는 명령어 : `sudo lsof -PiTCP -sTCP:LISTEN`

![](https://i.imgur.com/Ebdz6cN.png)

참고 링크 https://linkeverything.github.io/mac/mac-port-process/
